{"version":3,"file":"logger.js","sourceRoot":"","sources":["../../src/logger/logger.ts"],"names":[],"mappings":";;AAAA,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACnC,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAK7B;IAGI,MAAM,CAAC,UAAU,CAAC,GAAiB,EAAE,OAAY;QAC7C,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QAEvB,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAChC,UAAU,EAAE;gBACR,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;oBAC7B,IAAI,EAAE,SAAS;oBACf,KAAK,EAAE,OAAO;iBACjB,CAAC;gBACF,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;oBAC1B,IAAI,EAAE,YAAY;oBAClB,KAAK,EAAE,OAAO;oBACd,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,GAAG,CAAC,OAAO,EAAE,EAAE,WAAW,CAAC;iBAC1E,CAAC;aACL;SACJ,CAAC,CAAC;QAEH,EAAE,CAAC,CAAE,OAAO,CAAC,KAAK,KAAK,SAAS,IAAI,CAAC,OAAO,CAAC,KAAM,CAAC,CAAC,CAAC;YAClD,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAChC,CAAC;QAED,OAAO,CAAC,KAAK,GAAG,CAAC,MAAW;YACxB,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAChC,CAAC,CAAC;QACF,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC7B,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QAC3B,OAAO,CAAC,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC;QAC3B,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;QAC5B,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;IAC/B,CAAC;CACJ;AAlCD,yBAkCC","sourcesContent":["const winston = require('winston');\nconst path = require('path');\n\n/**\n * Logger\n */\nexport default class Logger {\n    static application: Electron.App;\n\n    static initialize(app: Electron.App, options: any) {\n        this.application = app;\n\n        const logger = new (winston.Logger)({\n            transports: [\n                new (winston.transports.Console)({\n                    name: 'console',\n                    level: 'debug'\n                }),\n                new (winston.transports.File)({\n                    name: 'debug-file',\n                    level: 'debug',\n                    filename: path.join(app.getPath('appData'), app.getName(), 'debug.log')\n                })\n            ]\n        });\n\n        if ( options.debug === undefined || !options.debug ) {\n            logger.remove('console');\n            logger.remove('debug-file');\n        }\n\n        console.debug = (buffer: any) => {\n            logger.log('debug', buffer);\n        };\n        console.error = logger.error;\n        console.warn = logger.warn;\n        console.log = logger.debug;\n        console.dir = console.debug;\n        console.info = logger.info;\n    }\n}\n"]}